<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="./styles.css">        
    <title>Toggle Password Visibility</title>
</head>
<body>
    <div class="container">
        <h2>Sign In</h2>
        <form method="post">
            <p>
                <label>Username:</label>
                <input type="text">
            </p>
            <p>
                <label>Password:</label>
                <input id="password" type="password" class="password">
                <i class="bi-eye-slash" id="toggle-password"></i>
            </p>
            <button type="submit">Log In</button>
        </form>
    </div>

    <script>
        
        // refer the elements form html
        const togglePassword = document.querySelector("#toggle-password");
        const password = document.querySelector("#password");

        // onclick functionality
        togglePassword.addEventListener('click', function (){
            
            // get the changed attribute value on click & save to type
            let type = password.getAttribute("type") === "password" ? "text" : "password";

            // set the fresh attribute value...
            password.setAttribute("type", type);

            // toggle the class
            togglePassword.classList.toggle('bi-eye')

        });

        // refer the form element form html
        const form = document.querySelector("form");
        // onclick prevent the default behavior of submit attribute
        form.addEventListener('submit', function (e){
            e.preventDefault();
        });

</script>
</body>
</html>